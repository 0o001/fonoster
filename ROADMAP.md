# Roadmap
The following is only a selection of some of the major features we plan to implement in the near future.
To get a more complete overview of planned features and current work, see the issue trackers for the various repositories, for example, the [YAPS ecosystem](https://github.com/fonoster/yaps).

Here is the roadmap by component:

## Media Controller(MC)

The Media Controller receives AGI request from Asterisk and takes control of the call flow. It also allows the implementor to access external resources like databases, RESTful APIS.

AGI requests are received by routing logic call the `dispatcher`. The dispatcher uses the information
in the AGI request to rout the call to the appropriate handler.

Component Specs:

- The handler functions are mounted in the MC filesystem
- The MC must have access to the `admin` API(like logging, storage, billing, etc.)
- A simplified request is sent to the handler from the dispatcher
- A simplified API is provide for flow control, consisting in several verbs(Play, Say, Stash, Record...)
- The MC receives AGI request from one ore more Media Servers
- The MC sends logging, billing, and other events to a Message Bus
- Must have the ability to discover the File Server and mount the required folder
- Must be able to run user code(jailed)

Note: The MC component will not provide with a deploy/undeploy logic

TODO:

- [ ] Draft `admin` functions(yaps.admin, yaps.logging, yaps.auth, yaps.storage...)
- [ ] FileServer discovery logic.
- [ ] Create simplified Voice APIS base on verbs

## Media Server(MS)

The Media Server receives SIP traffic from the SBC an passes control of the call flow the Media Controller. All SIP traffic is sent to the MS. This is done to simplifly the `billing` and `logging` process. Additionally to communicating with the MC the MS needs access to the Files Server. Also, it possible to use Asterisk ARI to send important events to the Message Bus.

Component Specs:

- The MS must be able to register with the SBC
- ARI is used to capture and send events to a Message Queue
- The MS must be able to communicate via AGI with the MC
- Ideally all the sound files will be played remotly 

TODO:

- [ ] Attempt to play sound from a remote location via http
- [ ] Create an ARI agent to communicate with the Message Bus
- [ ] FileServer discovery logic
- [ ] Ability to discover the Media Controller location

## Message Bus

The Message Bus "glues" together all the other components.

## Files Server(FS)

This component is use to store media files generated by the Media Server.
