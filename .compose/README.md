# Running Project Fonos with Docker Composer and Swarm

## Running Project with Docker Compose

To run Fonos using Docker Compose, simply run the following command:

```bash
docker-compose -f 00_config.yml \
    -f 01_base.yml \
    -f 02_sbc.yml \
    -f 03_tts.yml \
    -f 04_mediacontroller.yml \
    -f 05_mediaserver.yml \
    -f 06_logging.yml up \
    -d 
```

> Look for the service token generated by the 00_config.yml services

## Running on Docker Swarm

> We recommend having at least 3 nodes in your Docker Swarm cluster

First, create a docker config for the logging service

```bash
cat fluent.conf | docker config create fluent -
```

Next, we will crate a stack file using docker-compose config:

```bash
docker-compose -f 00_config.yml \
    -f 01_base.yml \
    -f 02_sbc.yml \
    -f 03_tts.yml \
    -f 04_mediacontroller.yml \
    -f 05_mediaserver.yml \
    -f 06_logging.yml up \
       config > docker-compose.stack.yml
```

Then deploy to your Docker Swarm with the following command:

```bash
docker stack deploy docker-compose.stack.yml
```